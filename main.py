"""
Autonomous Robotic Systems (2223-KEN4114)
Assignment 2: Robot Simulator
@authors:
Diyon Wickrameratne (i6176139)
Luca Forte (I6330944)
Olmo Denegri (i6333396)
Florent Didascalou (i6337071)
"""
from robot_simulator.rooms import room_2, room_1, room_3, room_4, room_5, room_6
from ea.nn_evolutionary_algorithm import run_algorithm, test_algorithm_with_parameters
from robot_simulator.robot import Robot
from robot_simulator import gui
from robot_simulator.gui import run_genotype

genotype_directory = "genotype_data/"

# Where to place the robot at the start
robot_start = (450, 400)

"""
REPLACE THIS WITH THE BEST GENOTYPE OBTAINED AFTER YOUR TESTS
"""
genotype = [5.752492608970092, 6.225355661031632, -7.349156605107501, -3.0639791492639867, -9.81502702110995, 5.297032856700961, -7.801023829490703, 8.656897540465987, -6.856885456604635, 2.258563252754893, -2.0868966505200586, -5.798511193899887, -7.696780105076235, -8.407629049854943, 4.3378484328751465, -9.755137560525348, 1.694525692869746, 5.04023468084233, 3.190741746873261, -0.36092668803319583, 8.662141286598878, 1.9073048203865675, 7.543754115332554, -3.098440376422664, -8.528586061191847, 0.5807906299868844, -4.083023874476002, -2.7051596447936, -3.4196085978294244, 7.619189315565965, -1.0667156097253958, -6.132439049591234, -8.949429860651549, -8.427743600434267, -6.855201787625753, 8.93101849889699, -7.865773152567705, 1.0951243779631668, 2.5468893641231727, 4.38582354895188, -8.381204617137477, -0.06709813034928125, 0.894549030603212, -2.3011810041948033, 9.48934266769373, 9.72755078493364, -3.076184768113393, -2.65384414620166, 6.237011970144106, -2.5416841074247154, 6.240810646491671, 3.3839439998660907, 0.32686321571438626, 6.792466675155961, 1.4244198717939494, -8.956067254011433, -0.4114456509270976, -1.3313088485861524, -7.187593727956944, -4.215007439095468, -8.303620932063065, -2.62949527171767, -7.340183381966714, 7.35956331442636, -9.44582620935919, -7.083013453858527, 7.15326311076754, -3.870230769173652, 5.576876802773935, 1.7303584114149118, 8.402247852940501, -8.079266403598243, -6.2281885368341605, -8.85843023780554, -6.583617764427611, 2.8293493800392966, 6.889697664499149, 6.3221700770175175, 5.186115433261971, 1.5734600377955985, -2.1945628450147137, -1.221865505479446, 7.64656189447701, 3.7880903399514274, -5.787489949709508, -1.6207040349951303, -8.891851915624429, -9.785814715236125, 5.297644244968215, 6.0204977159818895, 1.3382705860698962, -7.626403733322153, 7.934600155995927, -3.8721394764427135, 1.395399274063804, -8.541980361682931, -4.918411831073057, -0.8605949733137521, -6.551046987545382, 4.114501032207844, 7.672000516701345, -3.796022077978291, 8.419798786877514, 1.13915565877209, 6.0411753540217035, -4.465787648013886, -7.182850007018393, 2.9819113058709092, 8.922733070401467, 6.015469109503837, -5.886335222050643, 4.562538860765068, -9.984518594830805, 9.497518765787966, 8.12438678485259, -6.955564118142665, -5.361907477137184, 5.298143430484629, 7.128596386194104, -4.8721931903734355, -9.640682016970782, -1.9732711927866369, -3.591088111030796, -9.883039737192652, 7.384733644098258, -7.387026940905677, 2.757158617901787, -3.8141985264437706, 2.0761611682798264, 6.192875054159405, 2.35145221771843, -8.397429028062069, -3.015264561192595, 4.789753932882752, 0.2204117542754389, 6.850418306847821, -4.2951190433999065, -3.142049816354424, 7.76243113637268, 5.981367870087112, -0.6211354627682191, 5.6081884756753, 6.065300733799781, -5.795396023270825, 6.052807455424258, -6.232367501834037, 4.16855234506502, -9.867222587553968, -4.638262248758971, 6.714291146992718, -8.346496487594708, 8.151450876677615, -9.739851652362486, -3.833004247003866, 6.259152936886508, 1.6624445781054238, -2.997315761590036, -9.692127209426328, -1.947062251645523, -6.730763861963716, -8.803617243199948, 7.911760752963353, 4.490284986916999, -8.425071362284584, -6.5345587347332295, 7.034681801183606, 1.2005009923625405, -3.2973410638704825, -1.148630642360418, 7.8851626008479165, 4.865514580341143, -4.677347383489576, 2.532349875143929, 7.379033628967115, 4.835004410506546, 2.7840348817352414, 4.90360798117478, -1.9911416670209015, -4.355091851120456, -9.96642078091895, -5.9555747150393294, 1.140070199241105, -8.130461933828009, -2.214010149845511, -3.5218195173295612, -5.547628821583446, -3.2156214454947403, -9.542639099789449, -8.522020689538671, 6.087161529399925, 4.722439054746976, 6.350635092458617, -2.8365219526618057, -5.697893924789952, -9.675563454224662, -1.0703764259082504, 2.922236140015288, -4.013664161775205, 6.647958796779093, 4.123006110743187, 7.551822854570371, 2.180271031859043, 3.763878371095249, 2.7088591115753413, -3.9130162392927925, -1.6691488574383921, -2.7908441629901333, -4.820212180214007, 7.875829943691453, -5.847118879684379]

if __name__ == '__main__':

    rooms = [room_3, room_4]
    room = room_1
    
    """
    Uncomment if you want to run tests
    """
    file_name = "test.txt"
    plot_name = "graph_for_test.png"
    
    file = open(genotype_directory+file_name, "w")
    
    test_algorithm_with_parameters(rooms, file, plot_name, tests=2)
    
    file.close()

    #####################################################################

    """
    Uncomment if you want to see the gui play out with the best genotype
    """

    # run_genotype(genotype, room, robot_start)

    #####################################################################

    """
    Uncomment if you want to manually drive the robot using the gui
    """

    # robot = Robot(1, robot_start, room, n_sensors=12)
    # gui.run(robot, room, show_dust=False)


